{"version":3,"file":"neue.js","sources":["../bower_components/almond/almond.js","../js/footnote.js","../js/jump-scroll.js","../js/menu.js","../js/messages.js","../js/scroll-indicator.js","../js/tabs.js","../js/main.js"],"names":["requirejs","require","define","undef","hasProp","obj","prop","hasOwn","call","normalize","name","baseName","nameParts","nameSegment","mapValue","foundMap","lastIndex","foundI","foundStarMap","starI","i","j","part","baseParts","split","map","config","starMap","charAt","slice","length","nodeIdCompat","jsSuffixRegExp","test","replace","concat","splice","join","indexOf","substring","makeRequire","relName","forceSync","req","apply","aps","arguments","makeNormalize","makeLoad","depName","value","defined","callDep","waiting","args","defining","main","Error","splitPrefix","prefix","index","makeConfig","makeMap","handlers","Object","prototype","hasOwnProperty","plugin","parts","f","n","pr","p","exports","e","module","id","uri","deps","callback","cjsModule","ret","usingExports","callbackType","load","undefined","alt","setTimeout","cfg","_defined","amd","jQuery","$","window","each","$content","this","closest","find","hide","wrapInner","on","event","preventDefault","slideToggle","href","attr","animate","scrollTop","target","hash","offset","top","location","toggleClass","$collapsible","addClass","matchMedia","matches","messageClose","attachCloseButton","$messages","append","parent","slideUp","sortedIndex","array","key","low","high","mid","binarySearch","prepareIndicator","$link","$linkTarget","links","push","link","preparePage","updateScrollIndicators","newIndicator","newIndicatorParents","parentsUntil","oldIndicatorParents","oldIndicator","removeClass","not","throttle","func","wait","options","context","result","timeout","previous","later","Date","now","leading","remaining","clearTimeout","trailing","throttledScroll","$tabs","$tabMenuLinks","first","$this","$siblings","siblings","selection","data","tab","get","NEUE","Footnote","JumpScroll","Menu","Messages","ScrollIndicator","Tabs"],"mappings":"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","sourcesContent":["/**\n * @license almond 0.2.9 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.\n * Available via the MIT or new BSD license.\n * see: http://github.com/jrburke/almond for details\n */\n//Going sloppy to avoid 'use strict' string cost, but strict practices should\n//be followed.\n/*jslint sloppy: true */\n/*global setTimeout: false */\n\nvar requirejs, require, define;\n(function (undef) {\n    var main, req, makeMap, handlers,\n        defined = {},\n        waiting = {},\n        config = {},\n        defining = {},\n        hasOwn = Object.prototype.hasOwnProperty,\n        aps = [].slice,\n        jsSuffixRegExp = /\\.js$/;\n\n    function hasProp(obj, prop) {\n        return hasOwn.call(obj, prop);\n    }\n\n    /**\n     * Given a relative module name, like ./something, normalize it to\n     * a real name that can be mapped to a path.\n     * @param {String} name the relative name\n     * @param {String} baseName a real name that the name arg is relative\n     * to.\n     * @returns {String} normalized name\n     */\n    function normalize(name, baseName) {\n        var nameParts, nameSegment, mapValue, foundMap, lastIndex,\n            foundI, foundStarMap, starI, i, j, part,\n            baseParts = baseName && baseName.split(\"/\"),\n            map = config.map,\n            starMap = (map && map['*']) || {};\n\n        //Adjust any relative paths.\n        if (name && name.charAt(0) === \".\") {\n            //If have a base name, try to normalize against it,\n            //otherwise, assume it is a top-level require that will\n            //be relative to baseUrl in the end.\n            if (baseName) {\n                //Convert baseName to array, and lop off the last part,\n                //so that . matches that \"directory\" and not name of the baseName's\n                //module. For instance, baseName of \"one/two/three\", maps to\n                //\"one/two/three.js\", but we want the directory, \"one/two\" for\n                //this normalization.\n                baseParts = baseParts.slice(0, baseParts.length - 1);\n                name = name.split('/');\n                lastIndex = name.length - 1;\n\n                // Node .js allowance:\n                if (config.nodeIdCompat && jsSuffixRegExp.test(name[lastIndex])) {\n                    name[lastIndex] = name[lastIndex].replace(jsSuffixRegExp, '');\n                }\n\n                name = baseParts.concat(name);\n\n                //start trimDots\n                for (i = 0; i < name.length; i += 1) {\n                    part = name[i];\n                    if (part === \".\") {\n                        name.splice(i, 1);\n                        i -= 1;\n                    } else if (part === \"..\") {\n                        if (i === 1 && (name[2] === '..' || name[0] === '..')) {\n                            //End of the line. Keep at least one non-dot\n                            //path segment at the front so it can be mapped\n                            //correctly to disk. Otherwise, there is likely\n                            //no path mapping for a path starting with '..'.\n                            //This can still fail, but catches the most reasonable\n                            //uses of ..\n                            break;\n                        } else if (i > 0) {\n                            name.splice(i - 1, 2);\n                            i -= 2;\n                        }\n                    }\n                }\n                //end trimDots\n\n                name = name.join(\"/\");\n            } else if (name.indexOf('./') === 0) {\n                // No baseName, so this is ID is resolved relative\n                // to baseUrl, pull off the leading dot.\n                name = name.substring(2);\n            }\n        }\n\n        //Apply map config if available.\n        if ((baseParts || starMap) && map) {\n            nameParts = name.split('/');\n\n            for (i = nameParts.length; i > 0; i -= 1) {\n                nameSegment = nameParts.slice(0, i).join(\"/\");\n\n                if (baseParts) {\n                    //Find the longest baseName segment match in the config.\n                    //So, do joins on the biggest to smallest lengths of baseParts.\n                    for (j = baseParts.length; j > 0; j -= 1) {\n                        mapValue = map[baseParts.slice(0, j).join('/')];\n\n                        //baseName segment has  config, find if it has one for\n                        //this name.\n                        if (mapValue) {\n                            mapValue = mapValue[nameSegment];\n                            if (mapValue) {\n                                //Match, update name to the new value.\n                                foundMap = mapValue;\n                                foundI = i;\n                                break;\n                            }\n                        }\n                    }\n                }\n\n                if (foundMap) {\n                    break;\n                }\n\n                //Check for a star map match, but just hold on to it,\n                //if there is a shorter segment match later in a matching\n                //config, then favor over this star map.\n                if (!foundStarMap && starMap && starMap[nameSegment]) {\n                    foundStarMap = starMap[nameSegment];\n                    starI = i;\n                }\n            }\n\n            if (!foundMap && foundStarMap) {\n                foundMap = foundStarMap;\n                foundI = starI;\n            }\n\n            if (foundMap) {\n                nameParts.splice(0, foundI, foundMap);\n                name = nameParts.join('/');\n            }\n        }\n\n        return name;\n    }\n\n    function makeRequire(relName, forceSync) {\n        return function () {\n            //A version of a require function that passes a moduleName\n            //value for items that may need to\n            //look up paths relative to the moduleName\n            return req.apply(undef, aps.call(arguments, 0).concat([relName, forceSync]));\n        };\n    }\n\n    function makeNormalize(relName) {\n        return function (name) {\n            return normalize(name, relName);\n        };\n    }\n\n    function makeLoad(depName) {\n        return function (value) {\n            defined[depName] = value;\n        };\n    }\n\n    function callDep(name) {\n        if (hasProp(waiting, name)) {\n            var args = waiting[name];\n            delete waiting[name];\n            defining[name] = true;\n            main.apply(undef, args);\n        }\n\n        if (!hasProp(defined, name) && !hasProp(defining, name)) {\n            throw new Error('No ' + name);\n        }\n        return defined[name];\n    }\n\n    //Turns a plugin!resource to [plugin, resource]\n    //with the plugin being undefined if the name\n    //did not have a plugin prefix.\n    function splitPrefix(name) {\n        var prefix,\n            index = name ? name.indexOf('!') : -1;\n        if (index > -1) {\n            prefix = name.substring(0, index);\n            name = name.substring(index + 1, name.length);\n        }\n        return [prefix, name];\n    }\n\n    /**\n     * Makes a name map, normalizing the name, and using a plugin\n     * for normalization if necessary. Grabs a ref to plugin\n     * too, as an optimization.\n     */\n    makeMap = function (name, relName) {\n        var plugin,\n            parts = splitPrefix(name),\n            prefix = parts[0];\n\n        name = parts[1];\n\n        if (prefix) {\n            prefix = normalize(prefix, relName);\n            plugin = callDep(prefix);\n        }\n\n        //Normalize according\n        if (prefix) {\n            if (plugin && plugin.normalize) {\n                name = plugin.normalize(name, makeNormalize(relName));\n            } else {\n                name = normalize(name, relName);\n            }\n        } else {\n            name = normalize(name, relName);\n            parts = splitPrefix(name);\n            prefix = parts[0];\n            name = parts[1];\n            if (prefix) {\n                plugin = callDep(prefix);\n            }\n        }\n\n        //Using ridiculous property names for space reasons\n        return {\n            f: prefix ? prefix + '!' + name : name, //fullName\n            n: name,\n            pr: prefix,\n            p: plugin\n        };\n    };\n\n    function makeConfig(name) {\n        return function () {\n            return (config && config.config && config.config[name]) || {};\n        };\n    }\n\n    handlers = {\n        require: function (name) {\n            return makeRequire(name);\n        },\n        exports: function (name) {\n            var e = defined[name];\n            if (typeof e !== 'undefined') {\n                return e;\n            } else {\n                return (defined[name] = {});\n            }\n        },\n        module: function (name) {\n            return {\n                id: name,\n                uri: '',\n                exports: defined[name],\n                config: makeConfig(name)\n            };\n        }\n    };\n\n    main = function (name, deps, callback, relName) {\n        var cjsModule, depName, ret, map, i,\n            args = [],\n            callbackType = typeof callback,\n            usingExports;\n\n        //Use name if no relName\n        relName = relName || name;\n\n        //Call the callback to define the module, if necessary.\n        if (callbackType === 'undefined' || callbackType === 'function') {\n            //Pull out the defined dependencies and pass the ordered\n            //values to the callback.\n            //Default to [require, exports, module] if no deps\n            deps = !deps.length && callback.length ? ['require', 'exports', 'module'] : deps;\n            for (i = 0; i < deps.length; i += 1) {\n                map = makeMap(deps[i], relName);\n                depName = map.f;\n\n                //Fast path CommonJS standard dependencies.\n                if (depName === \"require\") {\n                    args[i] = handlers.require(name);\n                } else if (depName === \"exports\") {\n                    //CommonJS module spec 1.1\n                    args[i] = handlers.exports(name);\n                    usingExports = true;\n                } else if (depName === \"module\") {\n                    //CommonJS module spec 1.1\n                    cjsModule = args[i] = handlers.module(name);\n                } else if (hasProp(defined, depName) ||\n                           hasProp(waiting, depName) ||\n                           hasProp(defining, depName)) {\n                    args[i] = callDep(depName);\n                } else if (map.p) {\n                    map.p.load(map.n, makeRequire(relName, true), makeLoad(depName), {});\n                    args[i] = defined[depName];\n                } else {\n                    throw new Error(name + ' missing ' + depName);\n                }\n            }\n\n            ret = callback ? callback.apply(defined[name], args) : undefined;\n\n            if (name) {\n                //If setting exports via \"module\" is in play,\n                //favor that over return value and exports. After that,\n                //favor a non-undefined return value over exports use.\n                if (cjsModule && cjsModule.exports !== undef &&\n                        cjsModule.exports !== defined[name]) {\n                    defined[name] = cjsModule.exports;\n                } else if (ret !== undef || !usingExports) {\n                    //Use the return value from the function.\n                    defined[name] = ret;\n                }\n            }\n        } else if (name) {\n            //May just be an object definition for the module. Only\n            //worry about defining if have a module name.\n            defined[name] = callback;\n        }\n    };\n\n    requirejs = require = req = function (deps, callback, relName, forceSync, alt) {\n        if (typeof deps === \"string\") {\n            if (handlers[deps]) {\n                //callback in this case is really relName\n                return handlers[deps](callback);\n            }\n            //Just return the module wanted. In this scenario, the\n            //deps arg is the module name, and second arg (if passed)\n            //is just the relName.\n            //Normalize module name, if it contains . or ..\n            return callDep(makeMap(deps, callback).f);\n        } else if (!deps.splice) {\n            //deps is a config object, not an array.\n            config = deps;\n            if (config.deps) {\n                req(config.deps, config.callback);\n            }\n            if (!callback) {\n                return;\n            }\n\n            if (callback.splice) {\n                //callback is an array, which means it is a dependency list.\n                //Adjust args if there are dependencies\n                deps = callback;\n                callback = relName;\n                relName = null;\n            } else {\n                deps = undef;\n            }\n        }\n\n        //Support require(['a'])\n        callback = callback || function () {};\n\n        //If relName is a function, it is an errback handler,\n        //so remove it.\n        if (typeof relName === 'function') {\n            relName = forceSync;\n            forceSync = alt;\n        }\n\n        //Simulate async callback;\n        if (forceSync) {\n            main(undef, deps, callback, relName);\n        } else {\n            //Using a non-zero value because of concern for what old browsers\n            //do, and latest browsers \"upgrade\" to 4 if lower value is used:\n            //http://www.whatwg.org/specs/web-apps/current-work/multipage/timers.html#dom-windowtimers-settimeout:\n            //If want a value immediately, use require('id') instead -- something\n            //that works in almond on the global level, but not guaranteed and\n            //unlikely to work in other AMD implementations.\n            setTimeout(function () {\n                main(undef, deps, callback, relName);\n            }, 4);\n        }\n\n        return req;\n    };\n\n    /**\n     * Just drops the config on the floor, but returns req in case\n     * the config return value is used.\n     */\n    req.config = function (cfg) {\n        return req(cfg);\n    };\n\n    /**\n     * Expose module registry for debugging and tooling\n     */\n    requirejs._defined = defined;\n\n    define = function (name, deps, callback) {\n\n        //This module may not have dependencies\n        if (!deps.splice) {\n            //deps is not an array, so probably means\n            //an object literal or factory function for\n            //the value. Adjust args.\n            callback = deps;\n            deps = [];\n        }\n\n        if (!hasProp(defined, name) && !hasProp(waiting, name)) {\n            waiting[name] = [name, deps, callback];\n        }\n    };\n\n    define.amd = {\n        jQuery: true\n    };\n}());\n\ndefine(\"../bower_components/almond/almond\", function(){});\n\n","/**\n * Enables \"toggle\" functionality on Footnote pattern.\n */\n\ndefine('neue/footnote',[],function() {\n  \"use strict\";\n\n  var $ = window.jQuery;\n\n  $(function() {\n\n    $(\".js-footnote-toggle\").each(function() {\n      var $content = $(this).closest(\".footnote\").find(\".js-footnote-hidden\");\n\n      // Hide content in a footnote if there's a toggle link.\n      $content.hide();\n\n      // Make toggle into a link\n      $(this).wrapInner(\"<a href='#'></a>\").on(\"click\", function(event) {\n        event.preventDefault();\n\n        $content.slideToggle();\n      });\n\n    });\n\n\n  });\n});\n\n","/**\n * Applies a smooth-scroll animation on links with the `.js-jump-scroll` class.\n */\n\ndefine('neue/jump-scroll',[],function() {\n  \"use strict\";\n\n  var $ = window.jQuery;\n\n  $(function() {\n    $(\".js-jump-scroll\").on(\"click\", function(event) {\n      event.preventDefault();\n\n      var href = $(this).attr(\"href\");\n\n      // Animate scroll position to the target of the link:\n      $(\"html,body\").animate({scrollTop: $(event.target.hash).offset().top}, \"slow\", function() {\n        // Finally, set the correct hash in the address bar.\n        window.location.hash = href;\n      });\n    });\n  });\n});\n\n","/**\n * Initializes site-wide menu chrome functionality.\n */\n\ndefine('neue/menu',[],function() {\n  \"use strict\";\n\n  var $ = window.jQuery;\n\n  $(function() {\n    // Toggle dropdown menu navigation on mobile:\n    $(\".js-navigation-toggle\").on(\"touchstart mousedown\", function(e) {\n      e.preventDefault();\n\n      $(\".chrome\").toggleClass(\"has-mobile-menu\");\n      $(\".navigation\").toggleClass(\"is-visible\");\n    });\n\n    // Hide footer on mobile until clicked\n    var $collapsible = $(\".js-toggle-collapsed\");\n    $collapsible.addClass(\"is-collapsed is-toggleable\");\n    $collapsible.on(\"click\", function() {\n      if( window.matchMedia(\"screen and (max-width: 768px)\").matches ) {\n        $(this).toggleClass(\"is-collapsed\");\n      }\n    });\n\n    // Toggle menu on dekstop\n    $(\".navigation__dropdown-toggle\").on(\"mousedown\", function(e) {\n      e.preventDefault();\n      $(\".navigation__dropdown\").toggleClass(\"is-visible\");\n    });\n  });\n});\n\n","/**\n * @module neue/messages\n * System Messages. Will create a close (\"X\") button\n * for users with JavaScript enabled that uses the following\n * syntax to hook into this function:\n *\n * @example\n * //  <div class=\"js-message\">Alert! You win.</div>\n *\n * @returns\n * // <div class=\"js-message\">Alert! You win.\n * //   <a href=\"#\" class=\"js-close-message\">x</a>\n * // </div>\n */\n\ndefine('neue/messages',[],function() {\n  \"use strict\";\n\n  var $ = window.jQuery;\n\n  var messageClose = \"<a href=\\\"#\\\" class=\\\"js-close-message messages__close\\\"><span>Close</span></a>\";\n\n  /**\n  * Adds a close button to system message banner, with optional callback.\n  *\n  * @param {jQuery}   $messages  Object containing message divs to be modified.\n  * @param {function} callback   Callback fired after message is closed.\n  */\n  var attachCloseButton = function($messages, callback) {\n    // Create message close button\n    $messages.append(messageClose);\n\n    // Close message when \"x\" is clicked:\n    $messages.on(\"click\", \".js-close-message\", function(event) {\n      event.preventDefault();\n      $(this).parent(\".messages\").slideUp();\n\n      if(callback && typeof callback === \"function\") {\n        callback();\n      }\n    });\n  };\n\n  // Prepare any messages in the DOM on load\n  $(function() {\n    attachCloseButton( $(\".messages\") );\n  });\n\n  return {\n    attachCloseButton: attachCloseButton\n  };\n});\n\n","/**\n * Indicates current section in nav on scroll. Applies an `.is-active`\n * class when the specified `href` reaches the top of the viewport.\n *\n * Triggered by a `.js-scroll-indicator` on a link.\n */\n\ndefine('neue/scroll-indicator',[],function() {\n  \"use strict\";\n\n  var $ = window.jQuery;\n  var links = [];\n\n  /**\n   * @see _.throttle\n   */\n  var throttle = function(func, wait, options) {\n    var context, args, result;\n    var timeout = null;\n    var previous = 0;\n\n    options || (options = {});\n\n    var later = function() {\n      previous = new Date();\n      timeout = null;\n      result = func.apply(context, args);\n    };\n\n    return function() {\n      var now = new Date();\n      if (!previous && options.leading === false) previous = now;\n      var remaining = wait - (now - previous);\n      context = this;\n      args = arguments;\n\n      if (remaining <= 0) {\n        clearTimeout(timeout);\n        timeout = null;\n        previous = now;\n        result = func.apply(context, args);\n      } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n      }\n\n      return result;\n    };\n  };\n\n  /**\n   * @see _.sortedIndex\n   */\n  function sortedIndex(array, value, key) {\n    var low = 0,\n    high = array ? array.length : low;\n\n    while (low < high) {\n      var mid = (low + high) >>> 1; // jshint ignore:line\n      (array[mid][key] < value) ? low = mid + 1 : high = mid;\n    }\n\n    return low ? low - 1 : low;\n  }\n\n  /**\n   * Modified binary search. Finds target key, or next lowest if\n   * it doesn't exist.\n   * @see _.binarySearch\n   */\n  function binarySearch(array, value) {\n    var index = sortedIndex(array, value, \"offset\");\n    return array[index];\n  }\n\n  // Registers links and their targets with scroll handler\n  function prepareIndicator($link) {\n    // Calculate the element's offset from the top of the page while anchored\n    var $linkTarget = $( $link.attr(\"href\") );\n    if( $linkTarget.length ) {\n      // Add jQuery object and offset value to link map\n      links.push({ offset: $linkTarget.offset().top, link: $link });\n    }\n  }\n\n  // Prepare all `.js-scroll-indicator` links on the page.\n  function preparePage() {\n    links = [];\n\n    $(\".js-scroll-indicator\").find(\"a\").each(function(index, link) {\n      prepareIndicator( $(link) );\n    });\n  }\n\n  var oldIndicator;\n  // Scroll handler: highlights the furthest link the user has passed\n  function updateScrollIndicators() {\n    var newIndicator = binarySearch(links, $(window).scrollTop() + 40);\n    // @NOTE: We use a 40px offset to trigger indicator slightly after scroll position\n    // (so that nav switches closer to where a user will likely be reading the text)\n\n    if(newIndicator && newIndicator.link) {\n      var newIndicatorParents = newIndicator.link.parentsUntil(\".js-scroll-indicator\");\n      var oldIndicatorParents = $();\n\n      if(oldIndicator && oldIndicator !== newIndicator) {\n        oldIndicator.link.removeClass(\"is-active\");\n        oldIndicatorParents = oldIndicator.link.parentsUntil(\".js-scroll-indicator\");\n      }\n\n      newIndicator.link.addClass(\"is-active\");\n      newIndicatorParents.addClass(\"is-active\");\n      oldIndicatorParents.not(newIndicatorParents).removeClass(\"is-active\");\n\n      oldIndicator = newIndicator;\n    }\n  }\n\n  // Attach our functions to their respective events.\n  $(function() {\n    preparePage();\n\n    var throttledScroll = throttle(updateScrollIndicators, 60);\n\n    $(window).on(\"scroll\", throttledScroll);\n    $(window).on(\"resize\", preparePage);\n  });\n\n});\n\n\n","define('neue/tabs',[],function() {\n  \"use strict\";\n\n  var $ = window.jQuery;\n\n  var $tabs = $(\".js-tabs\"),\n      $tabMenuLinks = $tabs.find(\".tabs__menu a\");\n\n  // Show the first tab in any \"js-tabs\" collection.\n  $tabs.each(function() {\n    $(this).find(\".tabs__tab\").first().addClass(\"is-active\");\n  });\n\n  // View other tabs on click.\n  $tabMenuLinks.on(\"click\", function(event) {\n    event.preventDefault();\n\n    var $this = $(this),\n        $siblings = $this.parent().siblings(),\n        selection = $this.data(\"tab\") - 1,\n        $tabs = $this.closest(\".js-tabs\").find(\".tabs__tab\"),\n        tab = $tabs.get(selection);\n\n    $siblings.removeClass(\"is-active\");\n    $this.parent().addClass(\"is-active\");\n\n    // Show selected tab.\n    $tabs.removeClass(\"is-active\");\n    $(tab).addClass(\"is-active\");\n\n  });\n\n});\n\n","/**\n * Main build script. This will compile modules into `neue.js`\n * and `neue.min.js` in dist package, and attach each module to\n * a NEUE global variable attached to the window.\n */\n\ndefine('neue/main',['require','./footnote','./jump-scroll','./menu','./messages','./scroll-indicator','./tabs'],function(require) {\n  \"use strict\";\n\n  // Attach modules to window\n  window.NEUE = {\n    Footnote: require(\"./footnote\"),\n    JumpScroll: require(\"./jump-scroll\"),\n    Menu: require(\"./menu\"),\n    Messages: require(\"./messages\"),\n    ScrollIndicator: require(\"./scroll-indicator\"),\n    Tabs: require(\"./tabs\")\n  };\n\n  return window.NEUE;\n});\n\n"]}