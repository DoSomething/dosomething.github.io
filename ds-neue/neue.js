!function(){var n,e,t;!function(o){function i(n,e){return b.call(n,e)}function s(n,e){var t,o,i,s,r,a,l,c,u,f,d,p=e&&e.split("/"),g=w.map,v=g&&g["*"]||{};if(n&&"."===n.charAt(0))if(e){for(p=p.slice(0,p.length-1),n=n.split("/"),r=n.length-1,w.nodeIdCompat&&C.test(n[r])&&(n[r]=n[r].replace(C,"")),n=p.concat(n),u=0;u<n.length;u+=1)if(d=n[u],"."===d)n.splice(u,1),u-=1;else if(".."===d){if(1===u&&(".."===n[2]||".."===n[0]))break;u>0&&(n.splice(u-1,2),u-=2)}n=n.join("/")}else 0===n.indexOf("./")&&(n=n.substring(2));if((p||v)&&g){for(t=n.split("/"),u=t.length;u>0;u-=1){if(o=t.slice(0,u).join("/"),p)for(f=p.length;f>0;f-=1)if(i=g[p.slice(0,f).join("/")],i&&(i=i[o])){s=i,a=u;break}if(s)break;!l&&v&&v[o]&&(l=v[o],c=u)}!s&&l&&(s=l,a=c),s&&(t.splice(0,a,s),n=t.join("/"))}return n}function r(n,e){return function(){return p.apply(o,y.call(arguments,0).concat([n,e]))}}function a(n){return function(e){return s(e,n)}}function l(n){return function(e){m[n]=e}}function c(n){if(i(h,n)){var e=h[n];delete h[n],j[n]=!0,d.apply(o,e)}if(!i(m,n)&&!i(j,n))throw new Error("No "+n);return m[n]}function u(n){var e,t=n?n.indexOf("!"):-1;return t>-1&&(e=n.substring(0,t),n=n.substring(t+1,n.length)),[e,n]}function f(n){return function(){return w&&w.config&&w.config[n]||{}}}var d,p,g,v,m={},h={},w={},j={},b=Object.prototype.hasOwnProperty,y=[].slice,C=/\.js$/;g=function(n,e){var t,o=u(n),i=o[0];return n=o[1],i&&(i=s(i,e),t=c(i)),i?n=t&&t.normalize?t.normalize(n,a(e)):s(n,e):(n=s(n,e),o=u(n),i=o[0],n=o[1],i&&(t=c(i))),{f:i?i+"!"+n:n,n:n,pr:i,p:t}},v={require:function(n){return r(n)},exports:function(n){var e=m[n];return"undefined"!=typeof e?e:m[n]={}},module:function(n){return{id:n,uri:"",exports:m[n],config:f(n)}}},d=function(n,e,t,s){var a,u,f,d,p,w,b=[],y=typeof t;if(s=s||n,"undefined"===y||"function"===y){for(e=!e.length&&t.length?["require","exports","module"]:e,p=0;p<e.length;p+=1)if(d=g(e[p],s),u=d.f,"require"===u)b[p]=v.require(n);else if("exports"===u)b[p]=v.exports(n),w=!0;else if("module"===u)a=b[p]=v.module(n);else if(i(m,u)||i(h,u)||i(j,u))b[p]=c(u);else{if(!d.p)throw new Error(n+" missing "+u);d.p.load(d.n,r(s,!0),l(u),{}),b[p]=m[u]}f=t?t.apply(m[n],b):void 0,n&&(a&&a.exports!==o&&a.exports!==m[n]?m[n]=a.exports:f===o&&w||(m[n]=f))}else n&&(m[n]=t)},n=e=p=function(n,e,t,i,s){if("string"==typeof n)return v[n]?v[n](e):c(g(n,e).f);if(!n.splice){if(w=n,w.deps&&p(w.deps,w.callback),!e)return;e.splice?(n=e,e=t,t=null):n=o}return e=e||function(){},"function"==typeof t&&(t=i,i=s),i?d(o,n,e,t):setTimeout(function(){d(o,n,e,t)},4),p},p.config=function(n){return p(n)},n._defined=m,t=function(n,e,t){e.splice||(t=e,e=[]),i(m,n)||i(h,n)||(h[n]=[n,e,t])},t.amd={jQuery:!0}}(),t("../bower_components/almond/almond",function(){}),t("neue/footnote",[],function(){var n=window.jQuery;n(function(){n(".js-footnote-toggle").each(function(){var e=n(this).closest(".footnote").find(".js-footnote-hidden");e.hide(),n(this).wrapInner("<a href='#'></a>").on("click",function(n){n.preventDefault(),e.slideToggle()})})})}),t("neue/jump-scroll",[],function(){var n=window.jQuery;n(function(){n(".js-jump-scroll").on("click",function(e){e.preventDefault();var t=n(this).attr("href");n("html,body").animate({scrollTop:n(e.target.hash).offset().top},"slow",function(){window.location.hash=t})})})}),t("neue/menu",[],function(){var n=window.jQuery;n(function(){n(".js-navigation-toggle").on("touchstart mousedown",function(e){e.preventDefault(),n(".chrome").toggleClass("has-mobile-menu"),n(".navigation").toggleClass("is-visible")});var e=n(".js-toggle-collapsed");e.addClass("is-collapsed is-toggleable"),e.on("click",function(){window.matchMedia("screen and (max-width: 768px)").matches&&n(this).toggleClass("is-collapsed")}),n(".navigation__dropdown-toggle").on("mousedown",function(e){e.preventDefault(),n(".navigation__dropdown").toggleClass("is-visible")})})}),t("neue/messages",[],function(){var n=window.jQuery,e='<a href="#" class="js-close-message messages__close"><span>Close</span></a>',t=function(t,o){t.append(e),t.on("click",".js-close-message",function(e){e.preventDefault(),n(this).parent(".messages").slideUp(),o&&"function"==typeof o&&o()})};return n(function(){t(n(".messages"))}),{attachCloseButton:t}}),t("neue/scroll-indicator",[],function(){function n(n,e,t){for(var o=0,i=n?n.length:o;i>o;){var s=o+i>>>1;n[s][t]<e?o=s+1:i=s}return o?o-1:o}function e(e,t){var o=n(e,t,"offset");return e[o]}function t(n){var e=r(n.attr("href"));e.length&&a.push({offset:e.offset().top,link:n})}function o(){a=[],r(".js-scroll-indicator").find("a").each(function(n,e){t(r(e))})}function i(){var n=e(a,r(window).scrollTop()+40);if(n&&n.link){var t=n.link.parentsUntil(".js-scroll-indicator"),o=r();s&&s!==n&&(s.link.removeClass("is-active"),o=s.link.parentsUntil(".js-scroll-indicator")),n.link.addClass("is-active"),t.addClass("is-active"),o.not(t).removeClass("is-active"),s=n}}var s,r=window.jQuery,a=[],l=function(n,e,t){var o,i,s,r=null,a=0;t||(t={});var l=function(){a=new Date,r=null,s=n.apply(o,i)};return function(){var c=new Date;a||t.leading!==!1||(a=c);var u=e-(c-a);return o=this,i=arguments,0>=u?(clearTimeout(r),r=null,a=c,s=n.apply(o,i)):r||t.trailing===!1||(r=setTimeout(l,u)),s}};r(function(){o();var n=l(i,60);r(window).on("scroll",n),r(window).on("resize",o)})}),t("neue/tabs",[],function(){var n=window.jQuery,e=n(".js-tabs"),t=e.find(".tabs__menu a");e.each(function(){n(this).find(".tabs__tab").first().addClass("is-active")}),t.on("click",function(e){e.preventDefault();var t=n(this),o=t.parent().siblings(),i=t.data("tab")-1,s=t.closest(".js-tabs").find(".tabs__tab"),r=s.get(i);o.removeClass("is-active"),t.parent().addClass("is-active"),s.removeClass("is-active"),n(r).addClass("is-active")})}),t("neue/main",["require","./footnote","./jump-scroll","./menu","./messages","./scroll-indicator","./tabs"],function(n){return window.NEUE={Footnote:n("./footnote"),JumpScroll:n("./jump-scroll"),Menu:n("./menu"),Messages:n("./messages"),ScrollIndicator:n("./scroll-indicator"),Tabs:n("./tabs")},window.NEUE}),e(["neue/main"])}();
//# sourceMappingURL=neue.js
//# sourceMappingURL=neue.js.map